{% extends 'base.html' %}
{% block list_query_block %}<li class="active">{% endblock %}
{% block head_block %}Work List Query{% endblock %}

{% block body_block %}

<form action="" method="get">
  <strong>Handler  : </strong>
  <select class="btn btn-default" name="w-handler">
  <option value="" selected="selected"></option>
    {% for handler in handler %}
      <option value="{{ handler }}">{{ handler }}</option>
    {% endfor %}
  </select>

  &nbsp;&nbsp;&nbsp;&nbsp;

  <strong>list sort  : </strong>
  <select class="btn btn-default" name="w-list-sort">
  <option value="" selected="selected"></option>
    {% for list_sort in list_sort %}
      <option value="{{ list_sort }}">{{ list_sort }}</option>
    {% endfor %}
  </select>

  &nbsp;&nbsp;&nbsp;&nbsp;

  <strong>list status  : </strong>
  <select class="btn btn-default" name="w-list-status">
  <option value="" selected="selected"></option>
    {% for list_status in list_status %}
      <option value="{{ list_status }}">{{ list_status }}</option>
    {% endfor %}
  </select>

  &nbsp;&nbsp;&nbsp;&nbsp;

  <input id="waiting" type="submit" class="btn btn-default" value="Query" data-loading-text="Waiting......">

</form>

<hr class="hr" />

<div class="table-responsive">
  <table class="table table-condensed table-striped table-hover">
    
    <thead>
    <tr>
      <th></th>
      <th>创建人</th>
      <th>创建时间</th>
      <th>问题描述</th>
      <th>状态</th>
      <th>分类</th>
      <th>处理人</th>
      <th>处理开始时间</th>
      <th>处理结束时间</th>
      <th>等待处理时长</th>
      <th>处理时长</th>
      <th>问题经历时长</th>
    </tr>
    </thead>

    <tbody>
    <tr>
      {% for worklist in worklist %}
      <tr class="info">

        <td>{{ worklist.list_num }}</td>
        <td>{{ worklist.creator }}</td>
        <td>{{ worklist.create_time }}</td>
        <td>{{ worklist.descripe }}</td>
        <td>{{ worklist.list_status }}</td>
        <td>{{ worklist.list_sort }}</td>
        <td>{{ worklist.handler }}</td>
        <td>{{ worklist.handle_begin }}</td>
        <td>{{ worklist.handle_end }}</td>
        <td>{{ worklist.wait_time }}</td>
        <td>{{ worklist.handle_time }}</td>
        <td>{{ worklist.list_time }}</td>
      </tr>
      {% endfor %}
    </tr>
    </tbody>

  </table>
</div>

{% endblock %}
